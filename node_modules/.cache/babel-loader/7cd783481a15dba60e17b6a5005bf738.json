{"remainingRequest":"/var/www/html/front/node_modules/babel-loader/lib/index.js!/var/www/html/front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/var/www/html/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/front/src/components/main_block_app/depositing/setting_depositing/SettingDepositing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/front/src/components/main_block_app/depositing/setting_depositing/SettingDepositing.vue","mtime":1637311064004},{"path":"/var/www/html/front/babel.config.js","mtime":1636015662000},{"path":"/var/www/html/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL3Zhci93d3cvaHRtbC9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU2V0dGluZ0FkZGl0aW9uYWxJbmZvcm1hdGlvbiBmcm9tICIuL1NldHRpbmdBZGRpdGlvbmFsSW5mb3JtYXRpb24iOwppbXBvcnQgU2V0dGluZ1R5cGUgZnJvbSAiLi9TZXR0aW5nVHlwZSI7CmltcG9ydCBJbnB1dERhdGFPd25lciBmcm9tICIuLi8uLi8uLi9VSS9pbnB1dC9JbnB1dERhdGFPd25lciI7CmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgSW5wdXREYXRhT3duZXJFbiBmcm9tICIuLi8uLi8uLi9VSS9pbnB1dC9JbnB1dERhdGFPd25lckVuIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZXR0aW5nRGVwb3NpdGluZyIsCiAgcHJvcHM6IHsKICAgIHN0YXRlSWQ6IHsKICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgUG9pbnQ6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgYWxsb3dTYXZlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIElucHV0RGF0YU93bmVyRW46IElucHV0RGF0YU93bmVyRW4sCiAgICBTZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUsCiAgICBTZXR0aW5nQWRkaXRpb25hbEluZm9ybWF0aW9uOiBTZXR0aW5nQWRkaXRpb25hbEluZm9ybWF0aW9uLAogICAgSW5wdXREYXRhT3duZXI6IElucHV0RGF0YU93bmVyCiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmNoZWNrRGF0YSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNhdmVkRGVwb246IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoewogICAgbWFwU2F2ZURhdGE6ICdDbGllbnRTdG9yYWdlc01vZHVsZS9zYXZlRGF0YScKICB9KSksIHt9LCB7CiAgICBjaGVja0RhdGE6IGZ1bmN0aW9uIGNoZWNrRGF0YSgpIHsKICAgICAgaWYgKHRoaXMuUG9pbnQuc3RhdGVJZCA9PT0gMikgewogICAgICAgIHRoaXMuc2F2ZWREZXBvbiA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBzdGFydERlcG9uOiBmdW5jdGlvbiBzdGFydERlcG9uKCkgewogICAgICB0aGlzLlBvaW50LnN0YXRlSWQgPSAyOwogICAgfSwKICAgIGNyZWF0ZU5ld1BhcnRpY2lwYW50OiBmdW5jdGlvbiBjcmVhdGVOZXdQYXJ0aWNpcGFudCgpIHsKICAgICAgdmFyIG5ld1BhcnRpY2lwYW50ID0gewogICAgICAgIGlkOiBEYXRlLm5vdygpLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG5hbWVfZW46ICcnCiAgICAgIH07CiAgICAgIHRoaXMuUG9pbnQuUGFydGljaXBhbnRzLnB1c2gobmV3UGFydGljaXBhbnQpOwogICAgfSwKICAgIGNyZWF0ZU5ld0NvbXBhbnk6IGZ1bmN0aW9uIGNyZWF0ZU5ld0NvbXBhbnkoKSB7CiAgICAgIHZhciBuZXdDb21wYW55ID0gewogICAgICAgIGlkOiBEYXRlLm5vdygpLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG5hbWVfZW46ICcnCiAgICAgIH07CiAgICAgIHRoaXMuUG9pbnQuQ29tcGFueS5wdXNoKG5ld0NvbXBhbnkpOwogICAgfSwKICAgIGNyZWF0ZU5ld0F1dGhvcjogZnVuY3Rpb24gY3JlYXRlTmV3QXV0aG9yKCkgewogICAgICB2YXIgbmV3QXV0aG9yID0gewogICAgICAgIGlkOiBEYXRlLm5vdygpLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG5hbWVfZW46ICcnCiAgICAgIH07CiAgICAgIHRoaXMuUG9pbnQuQXV0aG9ycy5wdXNoKG5ld0F1dGhvcik7CiAgICB9LAogICAgdXBkYXRlQWRkaXRpb25hbEluZm9ybWF0aW9uOiBmdW5jdGlvbiB1cGRhdGVBZGRpdGlvbmFsSW5mb3JtYXRpb24odmFsdWUpIHsKICAgICAgdGhpcy5Qb2ludC5BZGRpdGlvbmFsSW5mb3JtYXRpb24gPSB2YWx1ZTsKICAgIH0sCiAgICByZW1vdmVQYXJ0aWNpcGFudDogZnVuY3Rpb24gcmVtb3ZlUGFydGljaXBhbnQoUGFydGljaXBhbnQpIHsKICAgICAgdGhpcy5Qb2ludC5QYXJ0aWNpcGFudHMgPSB0aGlzLlBvaW50LlBhcnRpY2lwYW50cy5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5pZCAhPT0gUGFydGljaXBhbnQuaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUNvbXBhbnk6IGZ1bmN0aW9uIHJlbW92ZUNvbXBhbnkoQ29tcGFueSkgewogICAgICB0aGlzLlBvaW50LkNvbXBhbnkgPSB0aGlzLlBvaW50LkNvbXBhbnkuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAuaWQgIT09IENvbXBhbnkuaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUF1dGhvcjogZnVuY3Rpb24gcmVtb3ZlQXV0aG9yKEF1dGhvcikgewogICAgICB0aGlzLlBvaW50LkF1dGhvcnMgPSB0aGlzLlBvaW50LkF1dGhvcnMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAuaWQgIT09IEF1dGhvci5pZDsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZURhdGE6IGZ1bmN0aW9uIHNhdmVEYXRhKCkgewogICAgICBpZiAodGhpcy5Qb2ludC5QYXJ0aWNpcGFudHMubGVuZ3RoID09PSAwIHx8IHRoaXMuUG9pbnQuQXV0aG9ycy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLlBvaW50LnN0YXRlSWQgPSAxOwogICAgICAgIHRoaXMuUG9pbnQuQXV0aG9ycyA9IFtdOwogICAgICAgIHRoaXMuUG9pbnQuUGFydGljaXBhbnRzID0gW107CiAgICAgICAgdGhpcy5Qb2ludC5Db21wYW55ID0gW107CiAgICAgICAgdGhpcy5Qb2ludC5BZGRpdGlvbmFsSW5mb3JtYXRpb24gPSAnJzsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMubWFwU2F2ZURhdGEodGhpcy5Qb2ludCk7CiAgICAgIHRoaXMuc2F2ZWREZXBvbiA9IHRydWU7CiAgICB9LAogICAgZWRpdERhdGE6IGZ1bmN0aW9uIGVkaXREYXRhKCkgewogICAgICB0aGlzLnNhdmVkRGVwb24gPSBmYWxzZTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["SettingDepositing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA,OAAA,4BAAA,MAAA,gCAAA;AACA,OAAA,WAAA,MAAA,eAAA;AACA,OAAA,cAAA,MAAA,kCAAA;AACA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,gBAAA,MAAA,oCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAJA;AAOA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AAPA,GAFA;AAaA,EAAA,UAAA,EAAA;AAAA,IAAA,gBAAA,EAAA,gBAAA;AAAA,IAAA,WAAA,EAAA,WAAA;AAAA,IAAA,4BAAA,EAAA,4BAAA;AAAA,IAAA,cAAA,EAAA;AAAA,GAbA;AAcA,EAAA,WAdA,yBAcA;AACA,SAAA,SAAA;AACA,GAhBA;AAiBA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GArBA;AAsBA,EAAA,OAAA,kCACA,YAAA,CAAA;AACA,IAAA,WAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,SAJA,uBAIA;AACA,UAAA,KAAA,KAAA,CAAA,OAAA,KAAA,CAAA,EAAA;AACA,aAAA,UAAA,GAAA,IAAA;AACA;AACA,KARA;AASA,IAAA,UATA,wBASA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,CAAA;AACA,KAXA;AAYA,IAAA,oBAZA,kCAYA;AACA,UAAA,cAAA,GAAA;AACA,QAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAAA;AAKA,WAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,cAAA;AACA,KAnBA;AAoBA,IAAA,gBApBA,8BAoBA;AACA,UAAA,UAAA,GAAA;AACA,QAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAAA;AAKA,WAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA,KA3BA;AA4BA,IAAA,eA5BA,6BA4BA;AACA,UAAA,SAAA,GAAA;AACA,QAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAAA;AAKA,WAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,KAnCA;AAoCA,IAAA,2BApCA,uCAoCA,KApCA,EAoCA;AACA,WAAA,KAAA,CAAA,qBAAA,GAAA,KAAA;AACA,KAtCA;AAuCA,IAAA,iBAvCA,6BAuCA,WAvCA,EAuCA;AACA,WAAA,KAAA,CAAA,YAAA,GAAA,KAAA,KAAA,CAAA,YAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,KAAA,WAAA,CAAA,EAAA;AAAA,OAAA,CAAA;AACA,KAzCA;AA0CA,IAAA,aA1CA,yBA0CA,OA1CA,EA0CA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,KAAA,OAAA,CAAA,EAAA;AAAA,OAAA,CAAA;AACA,KA5CA;AA6CA,IAAA,YA7CA,wBA6CA,MA7CA,EA6CA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,KAAA,MAAA,CAAA,EAAA;AAAA,OAAA,CAAA;AACA,KA/CA;AAgDA,IAAA,QAhDA,sBAgDA;AACA,UAAA,KAAA,KAAA,CAAA,YAAA,CAAA,MAAA,KAAA,CAAA,IAAA,KAAA,KAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA,OAAA,GAAA,CAAA;AACA,aAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,YAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,qBAAA,GAAA,EAAA;AACA;AACA;;AACA,WAAA,WAAA,CAAA,KAAA,KAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,KA3DA;AA4DA,IAAA,QA5DA,sBA4DA;AACA,WAAA,UAAA,GAAA,KAAA;AACA;AA9DA;AAtBA,CAAA","sourcesContent":["<template>\n  <div\n      @click=\"startDepon\"\n      v-if=\"stateId === 1\"\n      class=\"setting-depositing\"\n  >\n    Настроить депонирование\n  </div>\n  <div\n      v-else-if=\"stateId === 2\"\n      class=\"file-description\"\n      :class=\"{'file-description-disable': savedDepon}\"\n  >\n\n    <div class=\"file-description__point\">\n      <div class=\"file-description__point-item\">\n        <div class=\"title\">Правообладатели:</div>\n        <div class=\"participants items\">\n          <transition-group name=\"item-list\">\n            <input-data-owner\n                v-for=\"men in Point.Participants\"\n                :key=\"men.id\"\n                :savedDepon = savedDepon\n                :Model=\"men\"\n                @remove=\"removeParticipant(men)\"\n            />\n          </transition-group>\n        </div>\n        <div class=\"company items\">\n          <transition-group name=\"item-list\">\n            <input-data-owner\n                v-for=\"com in Point.Company\"\n                :key=\"com.id\"\n                :savedDepon = savedDepon\n                :Model=\"com\"\n                @remove=\"removeCompany(com)\"\n            />\n          </transition-group>\n        </div>\n        <transition name=\"files\">\n          <div v-if=\"!savedDepon\" class=\"add\">\n            <div class=\"add__point\" @click=\"createNewParticipant\">\n              + Добавить участника*\n            </div>\n            <div class=\"add__point\" @click=\"createNewCompany\">\n              + Добавить компанию\n            </div>\n          </div>\n        </transition>\n      </div>\n\n      <div class=\"file-description__point-item js-owners-en\">\n        <div class=\"title\">Owners:</div>\n        <div class=\"participants items\">\n          <div class=\"item\" v-for=\"men in Point.Participants\">\n            <input-data-owner-en\n                :Model=\"men\"\n            />\n          </div>\n        </div>\n        <div class=\"company items\">\n          <div class=\"item\" v-for=\"com in Point.Company\">\n            <input-data-owner-en\n                :Model=\"com\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"file-description__point\">\n      <div class=\"file-description__point-item\">\n        <div class=\"title\">Авторы:</div>\n        <div class=\"participants items\">\n          <transition-group name=\"item-list\">\n            <input-data-owner\n                v-for=\"author in Point.Authors\"\n                :Model=\"author\"\n                :savedDepon = savedDepon\n                :key=\"author.id\"\n                @remove=\"removeAuthor(author)\"\n            />\n          </transition-group>\n        </div>\n        <div class=\"add\">\n          <transition name=\"files\">\n            <div v-if=\"!savedDepon\" class=\"add__point\" @click=\"createNewAuthor\">\n              + Добавить автора*\n            </div>\n          </transition>\n        </div>\n      </div>\n\n      <div class=\"file-description__point-item js-authors-en\">\n        <div class=\"title\">Authors:</div>\n        <div class=\"participants items\">\n          <div class=\"item\" v-for=\"author in Point.Authors\">\n            <input-data-owner-en\n              :Model=\"author\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"file-description__point\">\n      <setting-additional-information\n        :AdditionalInformation = Point.AdditionalInformation\n        :savedDepon = savedDepon\n        @UpdateAdditionalInformation=\"updateAdditionalInformation\"\n      />\n      <setting-type\n        :Type = Point.Type\n        :savedDepon = savedDepon\n      />\n    </div>\n\n    <button\n        v-if=\"!savedDepon && allowSave\"\n        @click=\"saveData\"\n        class=\"save btn-purple\"\n    >\n      СОХРАНИТЬ\n    </button>\n    <button\n        v-if=\"savedDepon && allowSave\"\n        @click=\"editData\"\n        class=\"save btn-edit\"\n    >\n      РЕДАКТИРОВАТЬ\n    </button>\n  </div>\n</template>\n\n<script>\nimport SettingAdditionalInformation from \"./SettingAdditionalInformation\";\nimport SettingType from \"./SettingType\";\nimport InputDataOwner from \"../../../UI/input/InputDataOwner\";\nimport {mapMutations} from 'vuex'\nimport InputDataOwnerEn from \"../../../UI/input/InputDataOwnerEn\";\n\nexport default {\n  name: \"SettingDepositing\",\n  props: {\n    stateId: {\n      type:Number\n    },\n    Point: {\n      type: Object\n    },\n    allowSave: {\n      type: Boolean\n    }\n  },\n  components: {InputDataOwnerEn, SettingType, SettingAdditionalInformation, InputDataOwner},\n  beforeMount() {\n    this.checkData()\n  },\n  data() {\n    return {\n      savedDepon: false,\n    }\n  },\n  methods: {\n    ...mapMutations({\n      mapSaveData:'ClientStoragesModule/saveData'\n    }),\n    checkData() {\n      if (this.Point.stateId === 2) {\n        this.savedDepon = true\n      }\n    },\n    startDepon() {\n      this.Point.stateId = 2\n    },\n    createNewParticipant() {\n      const newParticipant = {\n        id: Date.now(),\n        name: '',\n        name_en: ''\n      }\n      this.Point.Participants.push(newParticipant)\n    },\n    createNewCompany() {\n      const newCompany = {\n        id: Date.now(),\n        name: '',\n        name_en: ''\n      }\n      this.Point.Company.push(newCompany)\n    },\n    createNewAuthor() {\n      const newAuthor = {\n        id: Date.now(),\n        name: '',\n        name_en: ''\n      }\n      this.Point.Authors.push(newAuthor)\n    },\n    updateAdditionalInformation(value) {\n      this.Point.AdditionalInformation = value\n    },\n    removeParticipant(Participant) {\n      this.Point.Participants = this.Point.Participants.filter(p => p.id !== Participant.id)\n    },\n    removeCompany(Company) {\n      this.Point.Company = this.Point.Company.filter(p => p.id !== Company.id)\n    },\n    removeAuthor(Author) {\n      this.Point.Authors = this.Point.Authors.filter(p => p.id !== Author.id)\n    },\n    saveData() {\n      if (this.Point.Participants.length === 0 || this.Point.Authors.length === 0) {\n        this.Point.stateId = 1\n        this.Point.Authors = []\n        this.Point.Participants = []\n        this.Point.Company = []\n        this.Point.AdditionalInformation = ''\n        return\n      }\n      this.mapSaveData(this.Point)\n      this.savedDepon = true\n    },\n    editData() {\n      this.savedDepon = false\n    },\n  }\n}\n</script>\n"],"sourceRoot":"src/components/main_block_app/depositing/setting_depositing"}]}